	\input{../TeX/base} %BASE!!!
\usepackage{multirow}
\title{\TITOLODOC}
\author{Dal Bosco Davide}

\begin{document}

\renewcommand{\insertversion}{0.0} %INSERIRE LA VERSIONE QUI DENTRO STILE x.x.xx
\renewcommand{\TITOLODOC}{Specifica Tecnica} %INSERIRE IL TITOLO DEL DOCUMENTO DA FAR COMPARIRE A PIE PAGINA
\renewcommand{\glosspath}{.\glossario} %INSERIRE PERCORSO RELATIVO

%%%%%%%%%%%%%%%%%%%%%%PARTE DA NON MODIFICARE%%%%%%%%%%%%%%%%%
\begin{titlepage}
\begin{center}
	\begin{Large}	\today \end{Large}
\end{center}

\vspace{20pt}

\begin{center}
	\begin{Huge}
				\textbf{\ajax}
	\end{Huge}
\end{center}			

\begin{center}
	\begin{large}
				\textbf{Software per il Disegno Grafico\\ in Tecnologie Web}
	\end{large}
\end{center}			

\vspace{20pt}

\begin{center}
\includegraphics[width=150pt]{../logo/logo}
\end{center}

\vspace{170pt}
\begin{center} %INSERIRE ALL'INTERNO IL TITOLO DOCUMENTO CHE COMPARIRA NELLA PAGINA INIZIALE				
	\begin{Huge}
				\textbf{\TITOLODOC}
	\end{Huge}
			\\
\end{center}
\vspace{190pt}
\begin{center}
Versione: \insertversion
\end{center}
\end{titlepage}

\newpage
%%%%%%%%%%%%%%%%%%%%%%FINE PARTE DA NON MODIFICARE%%%%%%%%%%%%%%%%%

\begin{center} %INSERIRE ALL'INTERNO IL TITOLO DOCUMENTO CHE COMPARIRA NELLA PAGINA INIZIALE
	\begin{Huge}	
				\textbf{\TITOLODOC}
			\\
	\end{Huge}
\end{center}

%\setlength{\parindent}{18pt} %settato indentazione di default 
\section*{\LARGE Sommario:}
Il presente documento descrive le scelte tecniche, architetturali e tecnologiche effettuate dall'azienda WebShape per lo sviluppo del Capitolato C04.

 %SEZIONE SOMMARIO
\indent \indent

\section*{\LARGE Stato del documento:}
\indent \indent
	Formale Esterno

\section*{\LARGE Redazione:}
	\begin{table}[!h]
		\begin{center}
			\begin{tabular}
				{|c|c|}
				\hline
				%%%%%%%%%%%%%%INTESTAZIONE COLONNE%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
				\multicolumn{2}{|c|}{ \textbf{Redazione} } \\
				\hline
				\textbf{Fase} & \textbf{Redattori} \\
				%%%%%%%%%%%%%%FINE INTESTAZIONE COLONNE%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
				\hline
				%%%%%%%%%%% PARTE DA MODIFICARE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%		
				\multirow{3}{*}{RR-RPP} & Bizzotto Piero\\
										& Dal Bosco Davide\\
										& Dissegna Stefano\\
				\hline
				%%%%%%%%%%% FINE PARTE DA MODIFICARE %%%%%%%%%%%%%%%%%%%%%%%%%%%
			\end{tabular}
			\caption{Lista Redattori} %INSERIRE DIDASCALIA - SE NECESSARIA - 
			\label{tabredazione}
		\end{center}
	\end{table}
	
\newpage	
	
\section*{\LARGE Approvazione:}
\begin{table}[!h]
	\begin{center}
		\begin{tabular}
			{|c|c|}
			\hline
			%%%%%INTESTAZIONE COLONNE%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
			\multicolumn{2}{|c|}{ \textbf{Approvazione} } \\
			\hline
			\textbf{Fase} & \textbf{Approvatori} \\
			%%%%%%%%%%%%%%FINE INTESTAZIONE COLONNE%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
			\hline
			%%%%%%%%%%% PARTE DA MODIFICARE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%		
			\multirow{2}{*}{RR-RPP} & \\
									& \\
			\hline
			%%%%%%%%%%% FINE PARTE DA MODIFICARE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		\end{tabular}
		\caption{Lista Approvatori} %INSERIRE DIDASCALIA - SE NECESSARIA - 
		\label{tabapprovazione}
	\end{center}
\end{table}

\textbf{}

\section*{\LARGE Lista di Distribuzione:}

	\begin{elenconumerato}{\normindent}
		\item WebShape 
		\item I committenti Conte Renato e Vardanega Tullio in rappresentanza \\  dell'azienda proponente Zucchetti SPA
	\end{elenconumerato}

\newpage



\section*{\Large Registro delle Modifiche:}


\begin{center}
	\begin{table}[h]
		  \begin{tabular*}
			{1\textwidth}%
				{@{\extracolsep{\fill}}|p{0.1\textwidth}|p{0.54\textwidth}|p{0.26\textwidth}|}
			 \hline
%%%%%%%%%%%%%%INTESTAZIONE COLONNE%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
			\textbf{Versione}  & \textbf{Descrizione} & \textbf{Autore} \\
%%%%%%%%%%%%%%FINE INTESTAZIONE COLONNE%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		 \hline
%%%%%%%%%%% PARTE DA MODIFICARE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
          0.5 & 22/01/2009 Correzioni in seguito a verifica & Dissegna Stefano \\
          0.4 & 22/01/2009 Descrizione design pattern & Dissegna Stefano \\
          0.3 & 21/01/2009 Descrizione generale e delle classi per ApplicationLogic & Dissegna Stefano \\
          0.2 & 20/01/2009 Diagrammi di sequenza per ApplicationLogic & Dissegna Stefano \\
          0.1 & 19/01/2009 Diagramma delle classi per ApplicationLogic & Dissegna Stefano \\
    	  0.0 & 15/01/2009 Bozza iniziale & Dal Bosco Davide \\
		\hline %%FINE RIGA
%%%%%%%%%%% FINE PARTE DA MODIFICARE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
		\end{tabular*}
	\caption{Registro delle modifiche} %INSERIRE DIDASCALIA - SE NECESSARIA - 
	\label{tab:modifiche}
	\end{table}
\end{center}


\newpage
\thispagestyle{fancy}
\tableofcontents
\thispagestyle{fancy}
\newpage

\sezione{Introduzione}

\subsezione{Scopo del documento}
Il documento si propone di presentare ai Committenti le scelte riguardanti la progettazione architetturale del capitolato d'appalto C04. In particolare viene presentata la struttura dei package e le loro relazioni, le unit\`a che compongono i package stessi e uno schema generale dell'interfaccia grafica.

\sezione{Scopo del prodotto}
Il software AJAXDRAW \`e proposto per verificare e dimostrare la fattibilit\`a di realizzazione di un'applicazione di disegno grafico, in grado di poter elaborare figure vettoriali primitive e complesse utilizzando le tecnologie web.

\subsezione{Glossario}
All'interno del documento \textit{Glossario}, sono presentati i termini tecnici utilizzati in tutti i documenti. Il glossario \`e fornito in allegato al presente documento.
\subsezione{Riferimenti}
Il presente documento \`e redatto utilizzando le convenzioni inserite nel documento \textit{NormeDiProgetto}, consultabile dal repository pubblico al quale WebShape si appoggia per i suoi progetti.
\subsubsezione{Normativi}
\subsubsezione{Informativi}
\sezione{Definizione del prodotto}
\subsezione{Metodo e formalismo di specifica}
L'architettura del sistema \`e stata sviluppata secondo un paradigma orientato agli oggetti. Le componenti del sistema e le loro relazioni verranno presentate in questo documento tramite diagrammi standard UML. Verranno presentate prima le componenti ad alto livello, le quali saranno poi descritte in maggiore dettaglio. Saranno inoltre descritti i pattern progettuali utilizzati.
\subsezione{Presentazione dell'architettura generale del sistema}
[inserire diagramma ad alto livello]
Il sistema si compone, al massimo livello di astrazione, di tre componenti: il primo, contenuto nel package \textit{UI}, si occupa dell'interfaccia utente, il secondo, contenuto nel package \textit{ApplicationLogic}, gestisce la logica interna, ovvero la gestione in memoria di quanto disegnato e della conversione tra rappresentazione interna e rappresentazione in SVG, e il terzo, contenuto nel package \textit{DocBackend}, si occupa del salvataggio e del caricamento di file testuali e dell'accesso a file statici, come ad esempio il manuale.
\subsubsezione{Design Pattern usati}
\paragraph{Facade (Document):}
Permette di salvare/caricare file senza conoscere il sottosistema che implementa le funzionalit\`a.
\subparagraph{Subsystem} Il sottosistema \`e composto dal package \textit{DocBackend}

\paragraph{Facade (StaticDocument):}
Permette di ottenere un file statico senza conoscere il sottosistema che implementa le funzionalit\`a.
\subparagraph{Subsystem} Il sottosistema \`e composto dal package \textit{DocBackend}

\paragraph{Template Method:}
\subparagraph{Algoritmo parametrizzato:}
Il metodo \textit{setSelection} di \textit{FigureSet} implementa la logica di selezione di una figura a partire da un punto.
\subparagraph{Metodo astratto da implementare:}
Implementando il metodo astratto \textit{getMainPoints} di \textit{Figure} \`e possibile parametrizzare l'algoritmo generale adattandolo alla figura specifica.

\paragraph{Abstract Factory:}
\subparagraph{Factory:} \textit{SVGElementRegistry} permette di generare oggetti la cui classe deriva da \textit{SVGReadable} a partire dal nome di un tag, e il cui tipo quindi non pu\`o essere conosciuto solo a runtime.
\subparagraph{Concrete Factory:} Invece che utilizzare un insieme statico di possibili associazioni tra nome tag e classe da costruire, si utilizza una tabella dinamica in cui le classi devono registrarsi. Le fabbriche concrete sono quindi tutte le classi che si registrano al sistema, in particolare tutte le classi che derivano da \textit{Figure}.
\subparagraph{Abstract Product:} Un'istanza di una classe che implementa \textit{SVGReadable}.
\subparagraph{Concrete Product:} Un'istanza di una classe registrata nel sistema.
\subparagraph{Client:} \textit{SVGReader}

\paragraph{Abstract Factory:} 
\subparagraph{Factory:} \textit{Property} genera un elemento grafico per modificare una propriet\`a specifica.
\subparagraph{Concrete Factory:} tutte le classi che derivano da \textit{Property}
\subparagraph{Abstract Product:} \textit{Widget}
\subparagraph{Concrete Product:} un particolare elemento grafico a seconda della propriet\`a coinvolta.
\subparagraph{Client:} \textit{PropertiesDialog}

%\paragraph{Iterator:}
%Viene usata una variante pi\`u semplice, anche se meno flessibile. 

\subsezione{Identificazione dei componenti architetturali di alto livello}
\subsubsezione{UI - Intefaccia Grafica}
[inserire diagramma delle classi] \\
La GUI \` e  il client che verr\` a utilizzato nel sistema AJAXDRAW, e verr\` a descritta brevemente, in quanto rappresenta solo un'unit\` a che andr\`  a a lavorare sulle altre componenti di sistema. \` E costruita nella sua totalit\` a nella pagina web caricata dal browser, rappresentata dalla classe \textit{Page}, e composta da tutti i widgets con i quali interagire (che implementano tutti l'interfaccia generica \textit{Widget}).  I widgets si suddividono in \textit{Toolbar} (barra degli strumenti), \textit{Button} (pulsanti generici, che compongono anche la toolbar stessa), \textit{Palette} e \textit{ColourDialog}(per la gestione del colore), e \textit{PropertiesDialog}(per la modifica delle propriet\` a, che aggrega gli specifici \textit{Setter}). La pagina \` e composta inoltre dalla classe \textit{Visualization}, la quale gestisce il \textit{Canvas} e tutte le operazioni su di esso eseguite, tra cui la conversione tra coordinate utente e coordinate interne e lo zoom. Le classi che rappresentano oggetti con cui \`e necessario interagire tramite mouse implementano tutte l'interfaccia \textit{UserClickEvent}, e tra queste vi \` e ovviamente la classe \textit{Canvas}, che oltre a questa implementa anche \textit{MouseMovePressed} e \textit{MouseMoveReleased}, necessarie al disegno tramite il mouse.  
\subsubsezione{ApplicationLogic - Logica interna}

\begin{figure}[!ht]
\centering
\includegraphics{applogic.jpg}
\caption{ApplicationLogic}
\end{figure}

Questo sottosistema si divide in tre ulteriori sottosistemi
\subsubsezione{Gestione figure}
Si occupa della gestione interna delle figure disegnabili e manipolabili dall'utente e delle relative propriet\`a. Il termine \textit{figura} in questo contesto include anche i testi disegnati sul canvas. La classe \textit{Figure} rappresenta una figura qualsiasi. Una figura \`e caratterizzata da delle propriet\`a derivate dalla classe \textit{Property}. La suddetta classe contiene un metodo \textit{createWidget} per fabbricare un elemento grafico, il quale permette all'utente di modificare la propriet\`a che ha generato il widget stesso. Ogni figura contiene un \textit{BoundingRectangle} che rappresenta la cornice entro cui la figura \`e completamente contenuta. Una figura pu\`o essere selezionata oppure no. Le classi che implementano \textit{Figure} sono responsabili di disegnarsi sul canvas implementando il metodo \textit{draw}. In questo metodo, non si dovr\`a tener conto dell'area correntemente visualizzata o del livello di zoom, in quanto gestiti in modo trasparente dalla classe \textit{Visualization}. Ad ogni figura \`e associato un insieme di punti significativi, come ad esempio i vertici in un quadrato, ottenibili tramite il metodo \textit{getMainPoints}. Ogni figura mantiene un colore del bordo, rappresentato dalla classe \textit{Colour}. Le classi \textit{Circle}, \textit{Polygon} e \textit{Rectangle} aggiungono un ulteriore colore per il riempimento, rappresentato dalla classe \textit{FillColour}. La classe \textit{Text} rappresenta un testo disegnato dall'utente, e mantiene delle propriet\`a derivate dalla classe \textit{TextProperty}. A fini implementativi, le propriet\`a del testo e del colore andranno rappresentate secondo lo standard \textit{CSS}, quindi le suddette propriet\`a dovranno implementare l'interfaccia \textit{CSSProperty} che offre il metodo \textit{toCSS} responsabile della conversione dalla rappresentazione interna a quella \textit{CSS}. La classe \textit{FigureSet} mantiene l'insieme delle istanze di \textit{Figure} correntemente disegnate dall'utente e offre la possibilit\`a di selezionarne una a partire da un punto sul canvas.
\subsubsezione{Conversione in \textit{SVG}}
Si occupa di trasformare il \textit{FigureSet} corrente in una stringa 
contenente un documento SVG valido e viceversa. 
\begin{figure}[!ht]
\centering
\includegraphics{ScritturaSVG.jpg}
\caption{ApplicationLogic - Creazione documento SVG}
\end{figure}
\begin{figure}[!ht]
\centering
\includegraphics{LetturaSVG.jpg}
\caption{ApplicationLogic - Caricamento documento SVG}
\end{figure}
\paragraph{Da \textit{FigureSet} a SVG}
Le classi derivanti da \textit{Figure} implementano l'interfaccia \textit{SVGWritable}, che rappresenta un qualsiasi elemento convertibile in SVG. La conversione avviene tramite il metodo \textit{toSVG}. La classe \textit{SVGWriter} dovr\`a, nel metodo \textit{write}, creare un documento SVG vuoto e richiamare il metodo \textit{toSVG} su tutte le figure contenute, le quali genereranno gli elementi SVG necessari alla propria rappresentazione. Per creare un documento SVG si istanzia la classe \textit{SVGGenerator}, la quale offre dei metodi per generare comandi SVG. Quando tutte le figure hanno avuto la possibilit\`a di inserirsi nel documento SVG, il metodo \textit{flush} chiude il documento e lo ritorna sotto forma di stringa.
\paragraph{Da SVG a \textit{FigureSet}}
L'importazione di un file SVG viene gestita dalla classe \textit{SVGReader} attraverso il metodo \textit{read}, che riceve un documento SVG valido sotto forma di stringa e restituisce un'istanza di \textit{FigureSet} corrispondente. Viene fatto il parsing del documento come \textit{XML} attraverso la classe \textit{XMLParser}, e per ogni comando SVG viene creato un'istanza di \textit{SVGTag} che lo rappresenta. Il nome del tag verr\`a usato come indice dal metodo \textit{makeFigureClassFromTag} della classe \textit{SVGElementRegistry}, che costruir\`a un'istanza della classe corrispondente. Su quest'istanza verr\`a invocato il metodo \textit{fromSVG}, il quale \`e responsabile di inizializzare la classe a partire dal tag. Per associare una classe al nome di un tag si usa il metodo \textit{register}. La classe registrata deve implementare l'interfaccia \textit{SVGReadable}.
\subsubsezione{DocBackend - Lato Server}
[inserire diagramma delle classi] \\
In AJAXDRAW \`e necessaria la presenza di una parte server, visto il modello client-server dell'applicazione. La parte server, ha funzionalit\`a minimali, ma fondamentali per permettere il funzionamento dell'intero sistema. Le sue funzioni, oltre a quella di essere un webserver e fornire la pagina HTML al client, sono esclusivamente quelle di permettere un salvataggio in formato SVG del disegno effettuato sul client, effettuare il caricamento di un file risiedente su disco e avere accesso al manuale utente dell'applicazione. Come da figura [inserire numero figura], \`e composto da una classe \textit{Document} che rappresenta il disegno effettuato sul canvas, nella quale sono presenti i metodi \textit{save} e \textit{load}. L'uso di questi metodi permettono l'invio di una richiesta al server (classe \textit{Request}, tramite il metodo \textit{acceptRequest}). La classe \textit{Server} contiene tre metodi: \textit{getSave} che permette di salvare un file su disco, \textit{getLoad} che permette di caricare un file e \textit{getHTML} che ha il compito di ottenere la pagina HTML da fornire al client e di prelevare il manuale utente. La classe \textit{File} rappresenta un file che risiede su disco, il quale \`e possibile prelevarlo (\textit{getFile}) o cancellarlo (\textit{deleteFile}). La classe \textit{Clean} contiene il metodo \textit{sweeper} il quale elimina i file che sono gia stati scaricati o i file di client che abbandonano la connessione con il server, in modo da evitare che quesi file presenti temporaneamente sul server non lo intasino. La classe \textit{StaticDocument}, tramite il suo metodo \textit{get} permette di inviare una richiesta al server per ottenere il manuale utente. Sono presenti inoltre delle classi che permettono la gestione di eccezioni: pu\`o verificarsi un errore di comunicazione (rappresentato dall'interfaccia \textit{CommunicationError} e dalle classi \textit{ConnectionError} e \textit{ServerError} con relativi metodi che la implementano, o un errore di file non trovato (perch\`e su disco non \`e presente il file). Questo tipo di eccezione \`e rappresentato dalla classe \textit{FileNotFound} con il relativo metodo \textit{getFileError}. 


\sezione{Descrizione dei singoli componenti}

\subsezione{Figure}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Classe astratta che rappresenta una figura generica nel sistema, ovvero un oggetto disegnabile nel canvas.
\subsubsezione{Relazioni d'uso di altre componenti}
Mantiene un'istanza della classe \textit{BoundingRectangle} per rappresentare i limiti della figura. Contiene anche un'istanza di \textit{Colour} che rappresenta il colore del bordo. Deriva, ma non implementa, l'interfaccia \textit{SVGReadable} e l'interfaccia \textit{SVGWritable}, in quanto le sue sottoclassi dovranno essere serializzabili e deserializabili in file SVG.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Viene aggregata dalla classe \textit{FigureSet}.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-]  \textit{draw} metodo astratto per disegnare la figura sul canvas
\item[-]  \textit{getMainPoints} metodo astratto per ottenere i punti della figura manipolabili dall'utente.
\item[-]  \textit{setSelection} permette di selezionare/deselezionare la figura.
\item[-]  \textit{isSelected} dice se la figura \`e correntemente selezionata.
\item[-]  \textit{eachProperty} applica la funzione fn ad ogni propriet\`a della figura.
\end{elencopuntato}

\subsezione{FigureSet}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta una collezione di figure.
\subsubsezione{Relazioni d'uso di altre componenti}
Contiene le istanze di \textit{Figure} correntemente attive.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usata dalla classe \textit{SVGWriter} per serializzare in SVG le figure correnti a dall'interfaccia utente per accedere alle figure. Pu\`o venire generata dalla classe \textit{SVGReader} dopo la deserializzazione di un file SVG.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-]  \textit{selectFigure} permette di selezionare una figura contenente il punto passato come argomento, se tale figura esiste.
\item[-]  \textit{each} permette di applicare una funzione ad ogni figura.
\item[-]  \textit{add} aggiunge una figura all'insieme
\item[-]  \textit{rem} rimuove una figura dall'insieme se presente
\end{elencopuntato}

\subsezione{Property}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta una propriet\`a generica di una figura.
\subsubsezione{Relazioni d'uso di altre componenti}
Nessuna.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Implementata da tutte le propriet\`a concrete delle diverse figure.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{createWidget} crea un widget grafico che permetter\`a di modificare la propriet\`a all'utente.
\end{elencopuntato}

\subsezione{CSSProperty}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta una propriet\`a di una figura che necessita di una rappresentazione conforme ai CSS.
\subsubsezione{Relazioni d'uso di altre componenti}
Nessuna.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Implementata da \textit{Colour}, \textit{TextFont} e \textit{TextSize}. 
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{toCSS} genera una stringa che rappresenta la propriet\`a come propriet\`a CSS.
\end{elencopuntato}

\subsezione{Opacity}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta l'opacit\`a di un colore.
\subsubsezione{Relazioni d'uso di altre componenti}
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\textit{Colour} ne mantiene un'istanza.
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{EdgeNumber}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta il numero degli spigoli di un poligono.
\subsubsezione{Relazioni d'uso di altre componenti}
Implementa \textit{Property}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\textit{Polygon} ne mantiene un'istanza.
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{Colour}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta un colore.
\subsubsezione{Relazioni d'uso di altre componenti}
Implementa \textit{Property} e \textit{CSSProperty}. Mantiene un'istanza di \textit{Opacity} che rappresenta l'opacit\`a del colore.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\textit{Figure} ne mantiene un'istanza per rappresentare il colore del bordo.
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{FillColour}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta un colore di riempimento.
\subsubsezione{Relazioni d'uso di altre componenti}
Deriva da \textit{Colour}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\textit{Circle}, \textit{Polygon} e \textit{Rectangle} ne mantengono un'istanza.
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{TextProperty}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Propriet\`a di un testo grafico.
\subsubsezione{Relazioni d'uso di altre componenti}
Deriva da \textit{Property}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\textit{Text} ne mantiene delle istanze.
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{TextColour}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta il colore di un testo.
\subsubsezione{Relazioni d'uso di altre componenti}
Deriva da \textit{Colour} e da \textit{TextProperty}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{TextFont}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta il font di un testo.
\subsubsezione{Relazioni d'uso di altre componenti}
Deriva da \textit{TextProperty} e implementa \textit{CSSProperty}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{TextSize}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta la grandezza di un testo.
\subsubsezione{Relazioni d'uso di altre componenti}
Deriva da \textit{TextProperty} e implementa \textit{CSSProperty}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{BoundingRectangle}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta la posizione e le dimensioni massime di una figura.
\subsubsezione{Relazioni d'uso di altre componenti}
Implementa \textit{Property}. Ogni istanza di \textit{Figure} ne mantiene un'istanza.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{Circle}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta un cerchio o un'ellisse.
\subsubsezione{Relazioni d'uso di altre componenti}
Deriva da \textit{Figure} e ne implementa i metodi astratti. Mantiene un'istanza di \textit{FillColour}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{Rectangle}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta un rettangolo o un quadrato.
\subsubsezione{Relazioni d'uso di altre componenti}
Deriva da \textit{Figure} e ne implementa i metodi astratti. Mantiene un'istanza di \textit{FillColour}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{Line}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta una linea generica.
\subsubsezione{Relazioni d'uso di altre componenti}
Deriva da \textit{Figure}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{StraightLine}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta una linea diritta.
\subsubsezione{Relazioni d'uso di altre componenti}
Deriva da \textit{Line} e ne implementa i metodi astratti.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{FreeLine}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta una linea a mano libera.
\subsubsezione{Relazioni d'uso di altre componenti}
Deriva da \textit{Line} e ne implementa i metodi astratti. Mantiene una lista di punti.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usata come base da \textit{BezierCurve}.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{eachPoint} applica una funzione ad ogni nodo della linea.
\end{elencopuntato}

\subsezione{BezierCurve}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta una linea curva.
\subsubsezione{Relazioni d'uso di altre componenti}
Deriva da \textit{FreeLine}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{Polygon}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta un poligono regolare.
\subsubsezione{Relazioni d'uso di altre componenti}
Deriva da \textit{Figure} e ne implementa i metodi astratti. Mantiene un'istanza di \textit{FillColour} e di \textit{EdgeNumber} che ne identifica il numero di lati.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
Nessuna a questo livello.

\subsezione{SVGWriter}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Permette di creare un documento SVG.
\subsubsezione{Relazioni d'uso di altre componenti}
Accede alle figure correnti attraverso un'istanza di \textit{FigureSet}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{write} crea un documento SVG che contiene le figure correntemente disegnate.
\end{elencopuntato}

\subsezione{SVGWritable}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta un oggetto convertibile in SVG.
\subsubsezione{Relazioni d'uso di altre componenti}
Usa \textit{SVGGenerator} per generare i comandi SVG.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Implementata dalle classi che rappresentano figure.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{toSVG} converte in SVG.
\end{elencopuntato}

\subsezione{SVGGenerator}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta un documento SVG in costruzione.
\subsubsezione{Relazioni d'uso di altre componenti}
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usato da \textit{SVGWriter} e dalle classi che implementano \textit{SVGWritable} per realizzare un documento SVG.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{startCommand} apre un comando con il nome dato.
\item[-] \textit{attr} aggiunge un attributo con il nome e il valore dato al comando corrente.
\item[-] \textit{endCommand} chiude il comando corrente.
\end{elencopuntato}

\subsezione{XMLParser}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Un parser SVG.
\subsubsezione{Relazioni d'uso di altre componenti}
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usato da \textit{SVGReader}.
\subsubsezione{Attivit\`a svolte e dati trattati}

\subsezione{SVGTag}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta un tag (ovvero un comando) SVG.
\subsubsezione{Relazioni d'uso di altre componenti}
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usato da \textit{SVGReader} e dalle classi che implementano \textit{SVGReadable}.
\subsubsezione{Attivit\`a svolte e dati trattati}

\subsezione{SVGReadable}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta un oggetto caricabile da un documento SVG.
\subsubsezione{Relazioni d'uso di altre componenti}
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Implementata dalle classi che rappresentano figure.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{fromSVG} inizializza l'oggetto a partire da un tag SVG.
\end{elencopuntato}

\subsezione{SVGReadableClass}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Metaclasse di \textit{SVGReadable}.
\subsubsezione{Relazioni d'uso di altre componenti}
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usata da \textit{SVGElementRegistry} per associare il nome di un tag a una classe che implementa \textit{SVGReadable}.
\subsubsezione{Attivit\`a svolte e dati trattati}

\subsezione{SVGReader}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Permette di caricare un documento SVG.
\subsubsezione{Relazioni d'uso di altre componenti}
Usa \textit{XMLParser} per fare il parsing del documento testuale, crea \textit{SVGTag} e usa \textit{SVGElementRegistry} per creare una figura a partire da un tag SVG.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{read} prende un documento SVG e ritorna un'istanza di \textit{FigureSet} che lo rappresenta.
\end{elencopuntato}

\subsezione{SVGElementRegistry}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Associa nomi di tag SVG a classi (non istanze) che implementano \textit{SVGReadable} e ne permette l'istanziazione. 
\subsubsezione{Relazioni d'uso di altre componenti}
Usa \textit{SVGReadableClass} per mantenere un riferimento ad una classe per poterla poi istanziare.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usata da \textit{SVGReader} durante la conversione di un documento SVG. Ogni classe che implementa \textit{SVGReadable} deve registrarsi.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{register} associa il nome di un tag SVG ad una classe che implementa \textit{SVGReadable}.
\item[-] \textit{makeFigureClassFromTag} crea un'istanza della classe associata al nome di tag passato come parametro.
\end{elencopuntato}

\subsezione{Manual}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta il manuale utente.
\subsubsezione{Relazioni d'uso di altre componenti}
Usa \textit{StaticDocument} per ottenere il file contenente il manuale.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{get} ritorna il manuale.
\end{elencopuntato}

\subsezione{Point}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Un punto sul piano.
\subsubsezione{Relazioni d'uso di altre componenti}
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}

\subsezione{PointSeq}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Una sequenza di \textit{Point}.
\subsubsezione{Relazioni d'uso di altre componenti}
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}

\subsezione{Object}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Superclasse di ogni classe.
\subsubsezione{Relazioni d'uso di altre componenti}
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Ereditata automaticamente da ogni classe.
\subsubsezione{Attivit\`a svolte e dati trattati}

\subsezione{Function}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Una funzione di prima classe che accetta un argomento di tipo qualsiasi. La funzione pu\`o essere anonima o no.
\subsubsezione{Relazioni d'uso di altre componenti}
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usata dai metodi di iterazione, come ad esempio \textit{each} di \textit{FigureSet}, per applicare una certa operazione ad ogni elemento di una collezione.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{call} richiama la funzione.
\end{elencopuntato}

\subsezione{Document}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Permette di salvare e caricare file.
\subsubsezione{Relazioni d'uso di altre componenti}
Usa \textit{Request} per effettuare una richiesta al server.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{save} chiede il salvataggio di un file.
\item[-] \textit{load} chiede il caricamento di un file.
\end{elencopuntato}

\subsezione{Request}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Contatta il server per una operazione richiesta dal client.
\subsubsezione{Relazioni d'uso di altre componenti}
Usa \textit{Server} per inoltrare una richiesta.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usata da \textit{Document} per effettuare una richiesta al server.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{acceptRequest} contatta il server in base alla richiesta ricevuta.
\end{elencopuntato}

\subsezione{Server}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Permette le operazioni di salvataggio, caricamento, fornisce la pagina HTML e il manuale utente.
\subsubsezione{Relazioni d'uso di altre componenti}
Usa \textit{File} per salvare o ricevere un file, usa \textit{Clean} per eliminare i file in eccesso e usa \textit{ServerError} per gestire un errore sul server.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usata da \textit{Request} per inoltrare una richiesta del client.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{getSave} restitusice un riferimento al file salvato.
\item[-] \textit{getLoad} restitusice un riferimento al file caricato da disco.
\item[-] \textit{getHTML} restitusice la pagina HTML o il manuale utente.
\end{elencopuntato}

\subsezione{File}
\subsubsezione{Tipo, obiettivo e funzione del componente}
Rappresenta un file su disco.
\subsubsezione{Relazioni d'uso di altre componenti}
Usa \textit{FileNotFound} gestire un errore di file non trovato su disco.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usata da \textit{Server} per restituire un file a seguito di una richiesta e uasat da \textit{Clean} per eliminare un file su disco.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{getFile} restitusice un file su disco.
\item[-] \textit{deleteFile} elimina un file su disco.
\end{elencopuntato}

\subsezione{Clean}
\subsubsezione{Tipo, obiettivo e funzione del componente}.
Permette di eliminare i file in eccesso sul server per evitare un suo intasamento.
\subsubsezione{Relazioni d'uso di altre componenti}
Usa \textit{File} per ricevere un file da eliminare.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usata da \textit{Server} quando sono presenti file in eccesso.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{sweeper} permette di eliminare i file superflui del server.
\end{elencopuntato}

\subsezione{StaticDocument}
\subsubsezione{Tipo, obiettivo e funzione del componente}.
Permette di richiedere il manuale utente.
\subsubsezione{Relazioni d'uso di altre componenti}
Usa \textit{Request} per effettuare la richiesta al server.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{get} permette di restituire il file del manuale utente.
\end{elencopuntato}

\subsezione{CommunicationError}
\subsubsezione{Tipo, obiettivo e funzione del componente}.
Rappresenta un errore di comunicazione.
\subsubsezione{Relazioni d'uso di altre componenti}
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Implementata da \textit{ConnectionError} e da \textit{ServerError} per la getione di errori di comunicazione.
\subsubsezione{Attivit\`a svolte e dati trattati}

\subsezione{ConnectionError}
\subsubsezione{Tipo, obiettivo e funzione del componente}.
Rappresenta un errore di connessione.
\subsubsezione{Relazioni d'uso di altre componenti}
Implementa \textit{CommunicationError}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{getConnectionError} permette di restituire un errore di connessione.
\end{elencopuntato}

\subsezione{ServerError}
\subsubsezione{Tipo, obiettivo e funzione del componente}.
Rappresenta un errore del server.
\subsubsezione{Relazioni d'uso di altre componenti}
Implementa \textit{CommunicationError}.
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{getServerError} permette di restituire un errore del server.
\end{elencopuntato}

\subsezione{FileNotFound}
\subsubsezione{Tipo, obiettivo e funzione del componente}.
Rappresenta un errore di file non trovato su disco.
\subsubsezione{Relazioni d'uso di altre componenti}
\subsubsezione{Interfacce e relazioni di uso da altre componenti}
Usata da \textit{File} nel caso non venga trovato su disco un file richiesto.
\subsubsezione{Attivit\`a svolte e dati trattati}
\begin{elencopuntato}[\normindent]
\item[-] \textit{getFileError} permette di restituire un errore di file su disco non trovato.
\end{elencopuntato}










\subsezione{Tipo, obiettivo e funzione del componente}
\subsezione{Relazioni d'uso di altre componenti}
\subsezione{Interfacce e relazioni di uso da altre componenti}
\subsezione{Attivit\`a svolte e dati trattati}
\sezione{Stime di fattibilit\`a e di bisogno di risorse}
\sezione{Tracciamento della relazione componenti-requisiti}




			

\end{document}